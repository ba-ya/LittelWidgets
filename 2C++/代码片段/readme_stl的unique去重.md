```c++
  std::vector<double> dims;
  // ...
  std::sort(dims.begin(), dims.end());
  dims.erase(
      std::unique(dims.begin(), dims.end(), [](double a, double b){ return std::abs(a - b) < 1e-6; }),
      dims.end()
  );
```

------

### ğŸŒ± èƒŒæ™¯ï¼š`std::unique` å¹¶ä¸çœŸçš„â€œåˆ é™¤â€å…ƒç´ 

`std::unique` æ˜¯ `<algorithm>` é‡Œçš„å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼š

> æŠŠ **è¿ç»­çš„ã€ç›¸é‚»çš„ç›¸åŒå…ƒç´ ** ç§»åˆ°å®¹å™¨å‰é¢ï¼Œå¹¶è¿”å›â€œå»é‡åèŒƒå›´çš„æœ«å°¾è¿­ä»£å™¨â€ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼š

- å®ƒä¸ä¼šçœŸæ­£åˆ é™¤å…ƒç´ ï¼›
- å®ƒåªæ˜¯**æŠŠä¸é‡å¤çš„å…ƒç´ æŒªåˆ°å‰é¢**ï¼›
- ç„¶åè¿”å›ä¸€ä¸ªâ€œæ–°çš„é€»è¾‘ç»“å°¾â€ï¼ˆè¿­ä»£å™¨ï¼‰ï¼›
- å¦‚æœä½ æƒ³çœŸæ­£åˆ é™¤åé¢çš„é‡å¤éƒ¨åˆ†ï¼Œå°±è¦å†é…åˆ `.erase()`ã€‚

------

### ğŸ€ è¿™è¡Œä»£ç æ‹†è§£è®²è§£

```cpp
dims.erase(
    std::unique(dims.begin(), dims.end(),
        [](double a, double b){ return std::abs(a - b) < 1e-6; }
    ),
    dims.end()
);
```

æˆ‘ä»¬ä»å†…å¾€å¤–çœ‹ï¼š

#### 1ï¸âƒ£ `std::unique(dims.begin(), dims.end(), predicate)`

- å®ƒæ‰«ææ•´ä¸ª `dims` å‘é‡ï¼›
- æ¯æ¬¡æ¯”è¾ƒç›¸é‚»ä¸¤ä¸ªå…ƒç´  `a` å’Œ `b`ï¼›
- å¦‚æœ `predicate(a, b)` è¿”å› `true`ï¼Œè¯´æ˜å®ƒä»¬â€œè¢«è®¤ä¸ºç›¸ç­‰â€ï¼Œ`unique` ä¼š**ä¿ç•™å‰ä¸€ä¸ªï¼Œä¸¢å¼ƒåä¸€ä¸ª**ï¼›
- è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŒ‡å‘**å»é‡åæœ‰æ•ˆèŒƒå›´çš„æœ«å°¾**ã€‚

> âš ï¸ æ³¨æ„ï¼šå®ƒåªæ¯”è¾ƒ**ç›¸é‚»å…ƒç´ **ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨å‰ä¸€èˆ¬è¦ `std::sort(dims.begin(), dims.end());`ã€‚

------

#### 2ï¸âƒ£ `[](double a, double b){ return std::abs(a - b) < 1e-6; }`

è¿™æ˜¯ä¸€ä¸ª **Lambdaè¡¨è¾¾å¼**ï¼ˆåŒ¿åå‡½æ•°ï¼‰ï¼Œå®šä¹‰â€œä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰â€çš„è§„åˆ™ã€‚

å®ƒçš„é€»è¾‘ï¼š

- å¦‚æœä¸¤ä¸ªæµ®ç‚¹æ•°çš„å·®çš„ç»å¯¹å€¼å°äº `1e-6`ï¼Œå°±è®¤ä¸ºå®ƒä»¬ç›¸ç­‰ï¼›
- è¿™æ˜¯å› ä¸ºæµ®ç‚¹è¿ç®—å­˜åœ¨è¯¯å·®ï¼ˆæ¯”å¦‚ 0.1 + 0.2 â‰  0.3ï¼‰ã€‚

æ‰€ä»¥è¿™è¡Œæ˜¯**å¸¦å®¹å·®çš„ç›¸ç­‰åˆ¤æ–­**ã€‚

------

#### 3ï¸âƒ£ `.erase(new_end, dims.end())`

å› ä¸º `unique` åªæ˜¯â€œç§»åŠ¨â€å…ƒç´ ï¼Œå¹¶æ²¡çœŸæ­£åˆ é™¤ï¼Œ
 æ‰€ä»¥æˆ‘ä»¬ç”¨ `.erase()` åˆ é™¤é€»è¾‘ä¸Šâ€œæ— æ•ˆâ€çš„å°¾éƒ¨ã€‚

ä¾‹å¦‚ï¼š

```
åŸå§‹ dims: [2.000001, 2.0, 5.0, 5.0, 10.0]
std::unique ä¹‹å: [2.000001, 5.0, 10.0, 5.0, 10.0]
unique è¿”å›æŒ‡å‘ 10.0ï¼ˆç¬¬3ä¸ªå…ƒç´ åé¢ï¼‰
.erase(...) ä¹‹å: [2.000001, 5.0, 10.0]
```

------

### ğŸ§­ æ€»ç»“ä¸€å¥è¯

> è¿™è¡Œä»£ç æ˜¯ C++ æ ‡å‡†çš„â€œå»é‡æ¨¡æ¿â€ï¼Œ
>  å®ƒåœ¨æœ‰æµ®ç‚¹è¯¯å·®çš„æƒ…å†µä¸‹ï¼Œåˆ é™¤ç›¸é‚»ã€å‡ ä¹ç›¸ç­‰çš„å…ƒç´ ã€‚

å®Œæ•´é€»è¾‘å¯ä»¥ç†è§£ä¸ºï¼š

```cpp
// å…ˆæ’åºï¼ˆä¿è¯ç›¸é‚»å…ƒç´ å¯æ¯”è¾ƒï¼‰
std::sort(dims.begin(), dims.end());

// å»é™¤é‡å¤å€¼ï¼ˆå¸¦å®¹å·®ï¼‰
auto new_end = std::unique(dims.begin(), dims.end(),
    [](double a, double b){ return std::abs(a - b) < 1e-6; });

// åˆ é™¤å¤šä½™å°¾éƒ¨å…ƒç´ 
dims.erase(new_end, dims.end());
```

