è¿­ä»£å™¨ä½¿ç”¨it->first; it->second; è€Œä¸æ˜¯.

------

### âœ… æ­£ç¡®ç”¨æ³•ï¼š`it->second`

```cpp
unordered_map<int, int> pos;
auto it = pos.find(target - x);

if (it != pos.end()) {
    int value = it->second;  // âœ… æ­£ç¡®ï¼
    int key   = it->first;
}
```

#### ä¸ºä»€ä¹ˆï¼Ÿ

- `pos.find(...)` è¿”å›çš„æ˜¯ä¸€ä¸ª **è¿­ä»£å™¨ï¼ˆiteratorï¼‰**ï¼Œç±»å‹æ˜¯ `unordered_map<int, int>::iterator`ã€‚
- è¿™ä¸ªè¿­ä»£å™¨ **æŒ‡å‘ä¸€ä¸ª `pair<const int, int>`**ï¼ˆå³ map ä¸­çš„ä¸€ä¸ªé”®å€¼å¯¹ï¼‰ã€‚
- è¿­ä»£å™¨çš„è¡Œä¸ºåƒ **æŒ‡é’ˆ**ï¼Œæ‰€ä»¥è¦ç”¨ `->` æ¥è®¿é—®å®ƒæ‰€æŒ‡å‘å¯¹è±¡çš„æˆå‘˜ã€‚

> ğŸ“Œ è®°ä½ï¼š**è¿­ä»£å™¨ â‰ˆ æŒ‡é’ˆ**

```cpp
// ç±»æ¯”ï¼š
pair<const int, int>* p = &some_pair;
int v = p->second;  // ç”¨ ->

// åŒç†ï¼š
auto it = map.begin(); // it æ˜¯â€œæŒ‡å‘ pair çš„æŒ‡é’ˆâ€
int v = it->second;    // æ‰€ä»¥ä¹Ÿç”¨ ->
```

------

### âœ… ä»€ä¹ˆæƒ…å†µä¸‹ä½ ä¼šçœ‹åˆ° `.second`ï¼Ÿ

å½“ä½ **è§£å¼•ç”¨è¿­ä»£å™¨å¾—åˆ° pair å¯¹è±¡**åï¼š

```cpp
auto it = pos.find(key);
if (it != pos.end()) {
    pair<const int, int> p = *it; // è§£å¼•ç”¨å¾—åˆ° pair
    int v1 = p.second;            // âœ… è¿™æ—¶å¯ä»¥ç”¨ .second

    // æˆ–è€…ç›´æ¥ï¼š
    int v2 = (*it).second;        // âœ… ç­‰ä»·äº it->second
}
```

> ğŸ” `it->second` å°±æ˜¯ `(*it).second` çš„è¯­æ³•ç³–ã€‚

------

### ğŸ§  å¿«é€Ÿè®°å¿†å£è¯€ï¼š

| å˜é‡ç±»å‹                 | è®¿é—®æ–¹å¼                    |
| ------------------------ | --------------------------- |
| **è¿­ä»£å™¨ `it`**          | `it->first`, `it->second`   |
| **pair å¯¹è±¡ `p`**        | `p.first`, `p.second`       |
| **æŒ‡é’ˆ `ptr` æŒ‡å‘ pair** | `ptr->first`, `ptr->second` |

âœ… **åœ¨ `for (auto it : map) {}` è¿™ç§åŸºäºèŒƒå›´çš„ for å¾ªç¯ï¼ˆrange-based for loopï¼‰ä¸­ï¼Œ`it` æ˜¯ä¸€ä¸ª `pair<const Key, Value>` å¯¹è±¡ï¼ˆæˆ–å…¶å¼•ç”¨ï¼‰ï¼Œæ‰€ä»¥ä½ è¦ç”¨ `.` æ“ä½œç¬¦è®¿é—® `.first` å’Œ `.second`ã€‚**

------

### ğŸ” è¯¦ç»†è§£é‡Š

#### 1. **`for (auto it : map)` ä¸­ `it` çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ**

```cpp
std::unordered_map<int, string> mp = {{1, "a"}, {2, "b"}};

for (auto it : mp) {
    // it çš„ç±»å‹æ˜¯ï¼šstd::pair<const int, std::string>
    // å®ƒæ˜¯ä¸€ä¸ª **å€¼æ‹·è´**ï¼ˆé™¤éä½ å†™æˆ const auto&ï¼‰
}
```

> ğŸ“Œ å…³é”®ï¼š**`it` ä¸æ˜¯è¿­ä»£å™¨ï¼å®ƒæ˜¯ map ä¸­æ¯ä¸ªå…ƒç´ çš„å‰¯æœ¬ï¼ˆæˆ–å¼•ç”¨ï¼‰**ï¼Œè€Œ map çš„å…ƒç´ ç±»å‹æ˜¯ `pair<const Key, T>`ã€‚

æ‰€ä»¥ï¼š

- `it.first` â†’ é”®ï¼ˆkeyï¼‰
- `it.second` â†’ å€¼ï¼ˆvalueï¼‰

âœ… æ­£ç¡®ç”¨æ³•ï¼š

```cpp
for (auto it : mp) {
    cout << it.first << " -> " << it.second << endl; // âœ… ç”¨ .
}
```

------

### ğŸ†š å¯¹æ¯”ï¼šä¼ ç»Ÿè¿­ä»£å™¨ vs èŒƒå›´ for

| å†™æ³•                                               | `it` ç±»å‹                    | è®¿é—®æ–¹å¼                  |
| -------------------------------------------------- | ---------------------------- | ------------------------- |
| `for (auto it = mp.begin(); it != mp.end(); ++it)` | **è¿­ä»£å™¨** (`map::iterator`) | `it->first`, `it->second` |
| `for (auto it : mp)`                               | **pair å¯¹è±¡**ï¼ˆå…ƒç´ å€¼ï¼‰      | `it.first`, `it.second`   |

------

### âš ï¸ æ€§èƒ½å»ºè®®ï¼šä½¿ç”¨å¼•ç”¨é¿å…æ‹·è´

å¦‚æœ `Value` æ˜¯å¤§å¯¹è±¡ï¼ˆå¦‚ `vector`, `string` ç­‰ï¼‰ï¼Œå»ºè®®ç”¨ **const å¼•ç”¨**ï¼š

```cpp
// é¿å…æ‹·è´ value
for (const auto& it : mp) {
    cout << it.first << ": " << it.second << "\n"; // ä»ç„¶ç”¨ .
}

// å¦‚æœè¦ä¿®æ”¹ valueï¼ˆä»…é€‚ç”¨äºé const mapï¼‰
for (auto& it : mp) {
    it.second += "!"; // âœ… ä¿®æ”¹åŸ map ä¸­çš„å€¼
}
```

------

### âœ… ç¤ºä¾‹æ€»ç»“

```cpp
unordered_map<string, int> ages = {{"Alice", 30}, {"Bob", 25}};

// æ–¹å¼1ï¼šå€¼æ‹·è´ï¼ˆå°å¯¹è±¡å¯æ¥å—ï¼‰
for (auto p : ages) {
    cout << p.first << " is " << p.second << "\n"; // .
}

// æ–¹å¼2ï¼šæ¨èï¼é¿å…æ‹·è´
for (const auto& kv : ages) {
    cout << kv.first << " is " << kv.second << "\n"; // .
}

// æ–¹å¼3ï¼šéœ€è¦ä¿®æ”¹å€¼
for (auto& kv : ages) {
    kv.second++; // ä¿®æ”¹åŸ map
}
```

------

### ğŸ’¡ è®°å¿†æŠ€å·§

> **â€œèŒƒå›´ for ä¸­çš„å˜é‡æ˜¯å…ƒç´ æœ¬èº«ï¼Œä¸æ˜¯è¿­ä»£å™¨â€**
> æ‰€ä»¥ï¼š
>
> - å…ƒç´ æ˜¯ `pair` â†’ ç”¨ `.`  
> - è¿­ä»£å™¨æŒ‡å‘ `pair` â†’ ç”¨ `->`

------

### âŒ å¸¸è§é”™è¯¯

```cpp
for (auto it : mp) {
    cout << it->first; // âŒ é”™è¯¯ï¼it ä¸æ˜¯æŒ‡é’ˆ/è¿­ä»£å™¨
}
```

ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š`error: request for member â€˜firstâ€™ in â€˜itâ€™, which is of non-class type...`

------

### âœ… ç»“è®º

åœ¨ `for (auto it : map)` ä¸­ï¼š

- **`it` æ˜¯ `pair` ç±»å‹çš„å¯¹è±¡**
- **å¿…é¡»ç”¨ `it.first` å’Œ `it.second`ï¼ˆç‚¹æ“ä½œç¬¦ï¼‰**
- **ä¸è¦ç”¨ `->`**

è¿™å’Œä½ ä¹‹å‰é—®çš„ `map.find()` è¿”å›çš„ **è¿­ä»£å™¨** ç”¨ `->` æ˜¯å®Œå…¨ä¸åŒçš„åœºæ™¯ï¼

å¸Œæœ›è¿™å½»åº•å¸®ä½ ç†æ¸…äº†ä¸¤ç§ for å¾ªç¯çš„è®¿é—®æ–¹å¼ ğŸ˜Š