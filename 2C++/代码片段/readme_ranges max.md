è¿™è¡Œä»£ç ï¼š

```cpp
int max_len = ranges::max(wordDict, {}, &string::length).length();
```

ä½¿ç”¨äº† **C++20 çš„ `std::ranges::max`** ç®—æ³•ï¼Œç›®çš„æ˜¯ï¼š
**ä» `wordDict` ä¸­æ‰¾å‡ºé•¿åº¦æœ€é•¿çš„å­—ç¬¦ä¸²ï¼Œå¹¶è·å–å®ƒçš„é•¿åº¦ï¼Œèµ‹å€¼ç»™ `max_len`ã€‚**

ä¸‹é¢æˆ‘ä»¬é€éƒ¨åˆ†æ‹†è§£ï¼š

------

### ğŸ“Œ 1. `wordDict` æ˜¯ä»€ä¹ˆï¼Ÿ

```cpp
vector<string>& wordDict;
```

- å®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼ˆå¦‚ `{"apple", "pen", "a"}`ï¼‰ã€‚
- ç›®æ ‡ï¼šæ‰¾å‡ºå…¶ä¸­**æœ€é•¿å­—ç¬¦ä¸²çš„é•¿åº¦**ï¼ˆæ¯”å¦‚ `"apple"` é•¿åº¦æ˜¯ 5ï¼‰ã€‚

------

### ğŸ“Œ 2. `&string::length` æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™æ˜¯ **æŒ‡å‘æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆ**ï¼Œè¡¨ç¤ºï¼šå¯¹æ¯ä¸ª `string` å…ƒç´ ï¼Œè°ƒç”¨å…¶ `.length()` æ–¹æ³•ã€‚

åœ¨ `ranges::max` ä¸­ï¼Œå®ƒè¢«ç”¨ä½œ **æŠ•å½±ï¼ˆprojectionï¼‰** â€”â€” å³æ¯”è¾ƒæ—¶ä¸æ˜¯ç›´æ¥æ¯”è¾ƒ `string` å¯¹è±¡ï¼Œè€Œæ˜¯æ¯”è¾ƒå®ƒä»¬çš„â€œæŠ•å½±å€¼â€ï¼ˆè¿™é‡Œæ˜¯å­—ç¬¦ä¸²é•¿åº¦ï¼‰ã€‚

> âœ… æŠ•å½±ï¼ˆprojectionï¼‰æ˜¯ C++20 Ranges çš„å¼ºå¤§ç‰¹æ€§ï¼š
> â€œå…ˆå¯¹å…ƒç´ åšå˜æ¢ï¼Œå†æ¯”è¾ƒå˜æ¢åçš„ç»“æœâ€ã€‚

æ‰€ä»¥ï¼š

```cpp
&string::length
```

ç­‰ä»·äºä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼š
`[](const string& s) { return s.length(); }`

------

### ğŸ“Œ 3. `{}` æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™æ˜¯ `ranges::max` çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤º **æ¯”è¾ƒå™¨ï¼ˆcomparatorï¼‰**ã€‚

- `{}` è¡¨ç¤ºä½¿ç”¨é»˜è®¤æ¯”è¾ƒå™¨ï¼Œå³ `std::less{}`ï¼ˆä¹Ÿå°±æ˜¯ `<`ï¼‰ã€‚
- æ‰€ä»¥æ•´ä½“æ˜¯æ¯”è¾ƒ **æŠ•å½±åçš„å€¼ï¼ˆé•¿åº¦ï¼‰çš„å¤§å°**ï¼Œå–æœ€å¤§çš„é‚£ä¸ªã€‚

> å‡½æ•°ç­¾åç®€åŒ–ç†è§£ï¼š
>
> ```cpp
> ranges::max(range, comparator, projection)
> ```

------

### ğŸ“Œ 4. æ•´ä½“è¡Œä¸º

```cpp
ranges::max(wordDict, {}, &string::length)
```

å«ä¹‰æ˜¯ï¼š

> åœ¨ `wordDict` ä¸­ï¼Œ**æ ¹æ®æ¯ä¸ªå­—ç¬¦ä¸²çš„ `.length()` å€¼è¿›è¡Œæ¯”è¾ƒ**ï¼Œè¿”å› **å…·æœ‰æœ€å¤§é•¿åº¦çš„é‚£ä¸ªå­—ç¬¦ä¸²ï¼ˆæ•´ä¸ª string å¯¹è±¡ï¼‰**ã€‚

æ³¨æ„ï¼š**è¿”å›çš„æ˜¯ `string&`ï¼ˆåŸ vector ä¸­çš„å…ƒç´ å¼•ç”¨ï¼‰ï¼Œä¸æ˜¯é•¿åº¦ï¼**

æ‰€ä»¥åé¢è¿˜è¦ `.length()`ï¼š

```cpp
... .length();  // è·å–è¿™ä¸ªæœ€é•¿å­—ç¬¦ä¸²çš„é•¿åº¦
```

------

### âœ… ä¸¾ä¸ªä¾‹å­

```cpp
vector<string> wordDict = {"a", "bb", "ccc", "dd"};
auto longest_str = ranges::max(wordDict, {}, &string::length); // è¿”å› "ccc"
int max_len = longest_str.length(); // 3
```

æ‰€ä»¥ `max_len = 3`ã€‚

------

### ğŸ” ç­‰ä»·çš„ä¼ ç»Ÿå†™æ³•ï¼ˆC++11~17ï¼‰

å¦‚æœä¸æ”¯æŒ C++20ï¼Œå¯ä»¥ç”¨ï¼š

```cpp
int max_len = 0;
for (const auto& word : wordDict) {
    max_len = std::max(max_len, (int)word.length());
}
```

æˆ–è€…ç”¨ `std::max_element`ï¼š

```cpp
auto it = std::max_element(wordDict.begin(), wordDict.end(),
    [](const string& a, const string& b) {
        return a.size() < b.size();
    });
int max_len = (it != wordDict.end()) ? it->size() : 0;
```

è€Œ C++20 çš„ `ranges::max` + æŠ•å½±è®©ä»£ç æ›´ç®€æ´ã€è¡¨è¾¾åŠ›æ›´å¼ºã€‚

------

### âš ï¸ æ³¨æ„è¾¹ç•Œæƒ…å†µ

å¦‚æœ `wordDict` ä¸ºç©ºï¼Œ`ranges::max` ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ˆå› ä¸ºæ— æ³•å–æœ€å¤§å€¼ï¼‰ã€‚
æ‰€ä»¥åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå»ºè®®å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼š

```cpp
if (wordDict.empty()) {
    max_len = 0;
} else {
    max_len = ranges::max(wordDict, {}, &string::length).length();
}
```

------

### âœ… æ€»ç»“

```cpp
int max_len = ranges::max(wordDict, {}, &string::length).length();
```

= **â€œæ‰¾å‡º `wordDict` ä¸­æœ€é•¿çš„å­—ç¬¦ä¸²ï¼Œå¹¶å–å®ƒçš„é•¿åº¦â€**

- `&string::length`ï¼šæŠ•å½±ï¼ŒæŒ‰é•¿åº¦æ¯”è¾ƒ
- `{}`ï¼šä½¿ç”¨é»˜è®¤ `<` æ¯”è¾ƒå™¨
- è¿”å›çš„æ˜¯**å­—ç¬¦ä¸²æœ¬èº«**ï¼Œæ‰€ä»¥è¦å†è°ƒ `.length()`

è¿™æ˜¯ C++20 ä¸­éå¸¸ä¼˜é›…ã€é«˜æ•ˆä¸”å¯è¯»æ€§å¼ºçš„å†™æ³•ï¼